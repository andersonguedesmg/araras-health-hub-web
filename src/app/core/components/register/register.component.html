<app-toast></app-toast>
<app-spinner></app-spinner>
<app-confirm-dialog></app-confirm-dialog>

<div class="flex items-center justify-center h-screen">
  <div class="bg-surface-900 rounded-lg shadow-md p-8 w-96">
    <h2 class="text-2xl font-bold text-center mb-4">Cadastro</h2>
    <form [formGroup]="registerForm">
      <div class="mb-4">
        <label class="block text-white font-medium mb-2">Nome:</label>
        <input
          type="text"
          formControlName="userName"
          class="mt-1 p-2 border rounded-md w-full"
          [ngClass]="{
            'border-red-500':
              formSubmitted && registerForm.get('userName')?.invalid
          }"
        />
      </div>
      <div class="mb-4">
        <label class="block text-white font-medium mb-2">Senha:</label>
        <input
          type="password"
          formControlName="password"
          class="mt-1 p-2 border rounded-md w-full"
          [ngClass]="{
            'border-red-500':
              formSubmitted && registerForm.get('password')?.invalid
          }"
        />
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-500">Unidade:</label>
        <p-select
          [options]="facilityOptions"
          formControlName="facilityId"
          optionLabel="label"
          optionValue="value"
          class="w-full mt-1"
          placeholder="Selecione"
          [ngClass]="{
            'border-red-500':
              formSubmitted && registerForm.get('facilityId')?.invalid
          }"
        ></p-select>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium text-gray-500">Papel:</label>
        <p-select
          [options]="rolesOptions"
          formControlName="role"
          optionLabel="label"
          optionValue="value"
          class="w-full mt-1"
          placeholder="Selecione"
          [ngClass]="{
            'border-red-500': formSubmitted && registerForm.get('role')?.invalid
          }"
        ></p-select>
      </div>
      <div class="flex items-center justify-center">
        <button
          pButton
          label="Cadastrar"
          icon="pi pi-check"
          (click)="register()"
        ></button>
      </div>
    </form>
  </div>
</div>
